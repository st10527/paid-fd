# Phase 2: Convergence & Performance Comparison
# Purpose: Compare convergence speed and final accuracy across all methods
name: phase2_convergence
description: "Convergence curves and final accuracy comparison"

_base_: ../default.yaml

system:
  n_devices: 50
  seed: 42

training:
  n_rounds: 100
  eval_every: 1
  local_epochs: 5
  local_lr: 0.01
  local_momentum: 0.9
  local_batch_size: 32
  distill_epochs: 5
  distill_lr: 0.001
  temperature: 3.0

methods:
  - PAID-FD
  - FedAvg
  - FedMD
  - FedGMKD
  - CSRA
  - Fixed-eps-1.0
  - Fixed-eps-5.0
  - Fixed-eps-10.0

# Per-method config overrides
method_configs:
  PAID-FD:
    gamma: null  # from phase1
    delta: 0.01
  FedAvg:
    participation_rate: 0.5
    local_epochs: 5
    local_lr: 0.01
  FedMD:
    local_epochs: 5
    local_lr: 0.01
    distill_epochs: 5
    distill_lr: 0.001
  FedGMKD:
    alpha: 0.1
    beta: 1.0
    tau: 0.5
    participation_rate: 0.5
    local_epochs: 5
    local_lr: 0.01
  CSRA:
    budget: 100.0
    epsilon_menu: [0.5, 1.0, 2.0, 5.0, 10.0]
    participation_rate: 0.5
    local_epochs: 5
    local_lr: 0.01
  Fixed-eps-1.0:
    epsilon: 1.0
    participation_rate: 1.0
  Fixed-eps-5.0:
    epsilon: 5.0
    participation_rate: 1.0
  Fixed-eps-10.0:
    epsilon: 10.0
    participation_rate: 1.0

paid_fd:
  gamma: null  # Will be set from phase1 results
  delta: 0.01
  budget: inf
  clip_bound: 5.0
  public_samples_per_round: 1000

heterogeneity:
  config_file: config/devices/heterogeneity.yaml

seeds: [42, 123, 456]

output:
  figures:
    - fig3_convergence_curves
    - fig4_final_accuracy_bar
  table: table1_full_metrics
